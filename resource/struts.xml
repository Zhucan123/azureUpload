<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<!-- 开启开发者模式 -->
	<constant name="struts.devMode" value="true" />
	<!-- 中文乱码 -->
	<constant name="struts.i18n.encoding" value="utf-8" />
	<package name="default" namespace="/" extends="struts-default">

		<action name="dataCapture_saveData" method="saveData"
			class="com.dataCapture.action.DataCaptureAction">
			<result>/show.jsp</result>
		</action>

		<action name="queryById" method="queryById"
			class="com.dataCapture.action.DataCaptureAction">
			<result>/detail_info.jsp</result>
		</action>
	</package>

	<!-- 实时更新的ajax -->
	<package name="upload" namespace="/" extends="json-default">
		<action name="update" class="com.dataCapture.action.DataUpdateAction"
			method="query">
			<result name="success" type="json"></result>
			<result name="input">index.jsp</result>
			<interceptor-ref name="defaultStack">
				<param name="fileUpload.maximumSize">3000000</param>
				<!-- ie会把 jpg、jpeg翻译成image/pjpeg，png翻译成image/x-png 。而火狐则很标准：jpg、jpeg翻译成image/jpeg，png翻译成image/png。 -->
				<param name="fileUpload.allowedTypes">
					image/bmp,image/jpeg,image/gif
				</param>
			</interceptor-ref>
		</action>
	</package>
</struts>
 